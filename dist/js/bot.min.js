
(function(){var lastTime=0;var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];}
if(!window.requestAnimationFrame)
window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};if(!window.cancelAnimationFrame)
window.cancelAnimationFrame=function(id){clearTimeout(id);};}());(function(){setTimeout(function(){jQuery('#page').addClass('loadPage');},50);var bot,botImage,canvas;function botLoop(){window.requestAnimationFrame(botLoop);bot.update();bot.render();}
function sprite(options){var that={},frameIndex=0,tickCount=0,ticksPerFrame=options.ticksPerFrame||0,numberOfFrames=options.numberOfFrames||1;that.context=options.context;that.width=options.width;that.height=options.height;that.image=options.image;that.update=function(){tickCount+=1;if(tickCount>ticksPerFrame){tickCount=0;if(frameIndex<numberOfFrames-1){frameIndex+=1;}else{return false;}}};that.render=function(){that.context.clearRect(0,0,that.width,that.height);that.context.drawImage(that.image,frameIndex*that.width/numberOfFrames,0,that.width/numberOfFrames,that.height,0,0,that.width/numberOfFrames,that.height);};return that;}
canvas=document.getElementById("botAnimation");canvas.width=130;canvas.height=130;botImage=new Image();bot=sprite({context:canvas.getContext("2d"),width:2730,height:130,image:botImage,numberOfFrames:21,ticksPerFrame:2});var templateUrl=template_path.templateUrl;if(jQuery('body').hasClass('home')){botImage.addEventListener("load",botLoop);}
botImage.src=templateUrl+'/dist/images/bot_sprite.png';}());